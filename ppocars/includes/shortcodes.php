<?phpadd_shortcode('home_content', 'shortcode_home_content');add_shortcode('gallery_carousel', 'shortcode_gallery_carousel');add_shortcode('recent_posts', 'shortcode_recent_posts');function shortcode_home_content($atts, $content = null) {    $atts = shortcode_atts(array(), $atts, 'home_content');        $loop = new WP_Query(array(        'post_type' => 'product',        'showposts' => -1,        'order' => 'ASC',        'orderby' => 'meta_value_num',        'meta_key' => 'price'    ));    $html = '<div class="row"><div class="main-left col-lg-9 col-md-8 col-sm-7">';    $html .= '<div class="product-grid-container">';    $html .= '<div class="row">';    while ($loop->have_posts()) : $loop->the_post();        $permalink = get_permalink();        $title = get_the_title();        $thumb_url = get_the_post_thumbnail_url(get_the_ID(), '300x170');        $price = number_format(get_field('price'), 0, ",", ".") . " VNĐ";        $html .= <<<HTML<div class="col-lg-4 col-md-6 col-sm-12 col-xs-6">    <div class="entry">        <a class="thumbnail" href="{$permalink}"><img alt="{$title}" src="{$thumb_url}" /></a>        <h3><a href="{$permalink}">{$title}</a></h3>        <div class="price">{$price}</div>        <span class="sale_tag">Sale</span>    </div></div>HTML;    endwhile;    wp_reset_query();    $html .= '</div></div>'; // End: .product-grid-container    $html .= '</div>'; // End: Left column        $profile_img = get_option(SHORT_NAME . "_ownerimg");    $profile_name = get_option(SHORT_NAME . "_ownername");    $profile_position = get_option(SHORT_NAME . "_ownerposition");    $profile_hotline = get_option(SHORT_NAME . "_hotline");    $profile_email = get_option(SHORT_NAME . "_email");    $profile_skype = get_option(SHORT_NAME . "_skype");        $form = do_shortcode(stripslashes_deep(get_option(SHORT_NAME . "_contactForm")));    $html .= <<<HTML<div id="sidebar" class="sidebar col-lg-3 col-md-4 col-sm-5 hidden-xs" style="position:relative">    <section class="widget widget-profile">        <div class="img"><img src="{$profile_img}" alt="{$profile_name}" /></div>        <div class="txt">            <h3>{$profile_name}</h3>            <h4>{$profile_position}</h4>        </div>        <div class="row-inf">            <div class="pull-left"><i class="fa fa-phone" aria-hidden="true"></i> SĐT</div>            <div class="pull-right">{$profile_hotline}</div>            <div class="clearfix"></div>        </div>        <div class="row-inf">            <div class="pull-left"><i class="fa fa-envelope" aria-hidden="true"></i> Email</div>            <div class="pull-right">{$profile_email}</div>            <div class="clearfix"></div>        </div>        <div class="row-inf">            <div class="pull-left"><i class="fa fa-skype" aria-hidden="true"></i> Skype</div>            <div class="pull-right">{$profile_skype}</div>            <div class="clearfix"></div>        </div>    </section>                <section class="widget widget-contact">        <h3 class="widget-title">            <span class="icon"><i class="fa fa-tags" aria-hidden="true"></i></span>            Yêu cầu gửi báo giá        </h3>        <div class="widget-content">            {$form}        </div>    </section></div><!-- #sidebar -->HTML;    $html .= '</div>';        return $html;}function shortcode_gallery_carousel($atts, $content = null) {    $atts = shortcode_atts(array(), $atts, 'gallery_carousel');    $gallery = get_field('gallery', 'option');    $html = '<div class="gallery-widget">';    $html .= '<h3 class="block-title">Hình Ảnh</h3>';    $html .= '<div class="block-title-border"></div>';    $html .= '<div class="owl-carousel">';    foreach ($gallery as $_gallery) :        $html .= <<<HTML<a href="{$_gallery['url']}" class="fancybox" rel="gallery1"><img src="{$_gallery['sizes']['400x278']}" /></a>HTML;    endforeach;    $html .= '</div></div>';        return $html;}function shortcode_recent_posts($atts, $content = null) {    $atts = shortcode_atts(array(        'number' => 8    ), $atts, 'recent_posts');    $date_format = get_option( 'date_format' );    $time_format = get_option( 'time_format' );    $loop = new WP_Query(array(        'post_type' => 'post',        'showposts' => $atts['number'],    ));    $html = '<div class="recent-posts-widget">';    $html .= '<h3 class="block-title">Tin Tức Mới</h3>';    $html .= '<div class="block-title-border"></div>';    $html .= '<div class="owl-carousel">';    while($loop->have_posts()) : $loop->the_post();        $permalink = get_permalink();        $title = get_the_title();        $thumb_url = get_the_post_thumbnail_url(get_the_ID(), '400x278');        $time = get_the_time($time_format);        $date = date($date_format, strtotime($post->post_date));        $html .= <<<HTML<div class="entry">    <a class="thumbnail" href="{$permalink}">        <img alt="{$title}" src="{$thumb_url}" itemprop="image" onError="this.src=no_image_url" />        <span class="more"></span>    </a>    <h3 class="entry-title"><a href="{$permalink}">{$title}</a></h3>    <div class="entry-meta">        <i class="fa fa-calendar" aria-hidden="true"></i> <span>{$time}</span> | <span itemprop="datePublished">{$date}</span>    </div></div>HTML;    endwhile;    wp_reset_query();    $html .= '</div></div>';        return $html;}